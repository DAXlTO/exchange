<div class="loggeduser" th:object="${session}" xmlns:th="http://www.w3.org/1999/xhtml">
  <p th:if="*{user == null}">
    No autenticat <a href="/login" th:href="@{/login}">Entrar</a>
  </p>
  <p th:unless="*{user == null}">

<!--
    <span th:text="*{user.id}"></span>
    <span th:text="*{user.balance}"></span>
    <span th:text="*{user.credit_card}"></span>
    <span th:text="*{user.age}"></span>
    <span th:text="*{user.email}"></span>
    <span th:text="*{user.phone}"></span>
-->
  <div id="wrap">
    <div id="dropdown">
      <center><a style="text-decoration:none" th:href="@{/users/home}"><span th:text="*{user.name}"></span></a></center>
      <ul>
        <li><center><a th:href="@{/users/profile}">My Profile</a></center>
        <li><center><a th:href="@{/users/balance}">Add funds</a></center>
        <li><center><a th:href="@{/users/buy}">Buy</a></center>
        <li><center><a th:href="@{/users/sell}">Sell</a></center>
        <li><center><a th:href="@{/transactions/send}">Send</a></center>
        <li><center><a th:href="@{/transactions/list}">View Transactions</a></center>
        <li><center><a href="/logout" th:href="@{/logout}">Log Out</a></center></li>
      </ul>
    </div>
  </div>

<script type="text/javascript">
  $("#dropdown").on("hover", function(e){
    e.preventDefault();

    if($(this).hasClass("open")) {
      $(this).removeClass("open");
      $(this).children("ul").slideUp("fast");
    } else {
      $(this).addClass("open");
      $(this).children("ul").slideDown("fast");
    }
  });
</script>
</div>